<!doctype html>
<html lang="ca">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Problema de navegació — Tarifa → Ceuta (didàctic detallat)</title>

<script>
window.MathJax = {
  tex: {inlineMath: [['$', '$'], ['\\(', '\\)']], displayMath: [['$$','$$']]},
  svg: {fontCache: 'global'}
};
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

<style>
  /*La línia 25 diu que tot el text del html que està en el body, agafi el tipus de lletra arial, si no troba arial,
  agafa lletra el Helvetica i si no el troba agafa qualsevol lletra de tipus sans-serif, sense serifa o sense adornaments.
  Margin de 20 pixels al voltant de tot el contingut per assegurarnos de deixar separats els continguts dels cuatre costats.
  Line-height és el espai vertical entre línies de text, que per defecte depèn del tipus de lletra i acostuma a ser 1,2 1,4,
  significa que entre una línia i la següent hi ha una separació del 120% o 140%. Nosaltres hem triat liníes més separades un
  170%. El color #123 és un color hexadecimal i sempre té 6 digits #rrggbb,sent cada lletra un número entre el 0 i el 9 o  A(10)
  B(11)C(12)D(13)E(14)F(15).Quan veiem 3 números estem veiem un hexadecimal abreujat i realment és el #112233 i aquest correspon
  al rgb17,34,51 en decimal que és un blau fosc.*/
body{font-family:Arial,Helvetica,sans-serif;margin:20px;line-height:1.7;color:#123}
  /*La línia 27 canvia els titols grans (h1), titols mitjans (h2), titols petits (h3) a un color blau fosc*/
h1,h2,h3{color:#0b3d91}
  /* La línia 32 és una classe que afecta a la línia 120 on s'escriu les formules matemàtiques i fa que les formules tinguin un
  color gris clar de fons (background), un espais intern dintre de la caixa de la formula perquè no toqui els costats de 12
  pixels(padding), unes cantonades arrodonides(border-radius),un espai vertical abans i desprès de la caixa (margin) i que
  el text de la formula estigui dins de la caixa*/
.formula{background:#f7f7f9;padding:12px;border-radius:6px;margin:10px 0;text-align:center}
  /* A la línia 36 tenim els estils de la taula generals, que es troba a la línia 54, el Collapse fa que les línies de les
  taules siguin senzilles i no línies dobles ( surten per defecte sempre dobles). El marge dona un espai abans de la taula i
  desprès de la taula. */    
table{border-collapse:collapse;margin:10px 0}
  /* td és una cel·la i significa table data o dada de una taula o cel·la i th és table heading que és la primera filera de una
  taula. Tant les cel·les normals com les cel·les de les primeres fileres, tenen un espai de 6 pixels.
  El contorn (border) serà d'un píxel i sòlid perquè podria ser dashed (amb ratlles) o dotted (amb punts).
  El color ccc és 6c ja que està abreujat (#cccccc). És un gris clar perquè gris és quan els tres números son iguals.
  C és un número hexadecimal (12) i és de color claar perquè s''aproxima a #FFFFFF qu és el gris més clar (blanc).*/
td,th{padding:6px;border:1px solid #ccc}
.step{margin:10px 0;padding-left:15px;border-left:3px solid #0b3d91}
  /*quan tenim un punt al principi de css és una classe(es pot posar més cops), quan tenim un # és un identificaador que només es pot posar un cop.
  La classe step apareix a la 70,71,79,80,83,84... Perquè ens permet esscriure els passos detallats amb les fórmules.
  Volem un espai al voltant de cada pas matemàtic de 10px en totes direccions. També volem que només a la esquerra hi hagi un marge interior (pdding-left).
  Vull una barra vertical bava solida de 3 píxels per mmrcar cada pas o step, és de 3 px de gruix i sòlida.*/
.note{margin:8px 0;padding:8px;background:#fff8dc;border-left:4px solid #ffcc00}
  /*Note és una nota explicativa que volem que surti separada i destacada en el text. Li posem un marge vertical al voltant de la nota de 8px i també intern de la mateixa mida
  li posem un background diferent color crema i una barra groga de 4 px a l'esquerra.*/
img {
  /* La línia 51 afecta a totes les imatges del document (html)*/
  max-width: 100%;
  /* La imatge mai serà més aple que el seu contenidor i que s'intenti adaptar al 100% */
  height: auto;
  /* Volem que es mantinguin les proporcions de la imatge, perquè li he dit que la alçada sigui la mateixa que la del contenidor. Això farà que s'adaprti la imatge al ample de la pantalla i que no es deformi.*/
  display: block; /* Evita petits espais sota la imtge  que apareixen per defecte amb inline, si no res s'enten display:inline i deixa un espai a sota de la imatge que no volem. */
}
</style>
</head>
<body>
<h1>Problema de navegació — Tarifa → Ceuta</h1> 
  <!--h1 és un títol gran, h2 és més petit. Existeixen h4 i h5 però poden ser més petits que el paràgraf, però depen del tipus/ font de la lletra -->

<h2>0) Conversió de coordenades (DMS → decimal)</h2>
<p>Per treballar amb fórmules trigonomètriques, necessitem les coordenades en decimal. A continuació convertim pas a pas.</p>

<h3>Tarifa</h3> 
  <!-- Les taules han de tenir la etiqueta table per cmençar i acabar i cada filera de la taula s'anomena en anglès row 
  i l'etiqueta tr vol dir table row o filera de taula i ha de posar-se a l'inici i al final de table row en una filera com en les línies següents. 
  Dintre de tr poden haver th o td. th vol dir table heading o títol de la taula i td vol dir  taula de la dada. Cada th i cada td és una cel·la de la taula. 
  Les th acostumen a posar-se en negreta pr distingir-se com a títol-->
<table>
<tr><th>Latitud (DMS)</th><td>36º 0' 45" N</td></tr>
<tr><th>Longitud (DMS)</th><td>5º 36' 20.16" W</td></tr>
</table>

<div class="step">Per convertir a decimal: $$Lat = 36 + \frac{0}{60} + \frac{45}{3600} = 36.0125^\circ$$</div>
<div class="step">I la longitud: $$Lon = (-5 + \frac{36}{60} + \frac{20.16}{3600}) = -5.6056^\circ$$</div>

<h3>Ceuta</h3>
<table>
<tr><th>Latitud (DMS)</th><td>35º 53' 17.88" N</td></tr>
<tr><th>Longitud (DMS)</th><td>5º 18' 56.16" W</td></tr>
</table>

<div class="step">Latitud en decimal: $$Lat = 35 + \frac{53}{60} + \frac{17.88}{3600} = 35.8883^\circ$$</div>
<div class="step">Longitud en decimal: $$Lon = (-5 + \frac{18}{60} + \frac{56.16}{3600}) = -5.3156^\circ$$</div>

<h2>1) Diferències angulars</h2>
<div class="step">$$\Delta \varphi = Lat_{(Ceuta)} - Lat_{(Tarifa)} = -0.1242^\circ$$</div>
<div class="step">$$\Delta \lambda = Lon_{(Ceuta)} - Lon_{(Tarifa)} = 0.2900^\circ$$</div>
<p>Convertim a radians, ja que trigonometria utilitza radians:</p>
<div class="step">$$\Delta \varphi_{rad} = -0.1242 \times \frac{\pi}{180} = -0.0021661 \text{ rad}$$</div>
<div class="step">$$\Delta \lambda_{rad} = 0.2900 \times \frac{\pi}{180} = 0.005061 \text{ rad}$$</div>

<h2>2) Distància amb Haversine</h2>
<p>Haversine permet calcular distància sobre la superfície esfèrica de la Terra:</p>
<div class="step">$$a = \sin^2\left(\frac{\Delta \varphi}{2}\right) + \cos(Lat_{Tarifa} \frac{\pi}{180}) \cos(Lat_{Ceuta} \frac{\pi}{180}) \sin^2\left(\frac{\Delta \lambda}{2}\right)$$</div>
<div class="step">$$a \approx 3.39 \times 10^{-6}$$</div>
<div class="step">$$c = 2 \arcsin(\sqrt{a}) \approx 0.003657 \text{ rad}$$</div>
<div class="step">Convertim a milles nàutiques: $$d_{NM} = c \text{ (6371·1.852)} \approx 15.945 \text{ NM}$$</div>

<h2>3) Rumb inicial</h2>
<p>El rumb indica la direcció inicial cap a Ceuta:</p>
<div class="step">$$y = \sin(\Delta \lambda_{rad}) \cos(Lat_{Ceuta} \frac{\pi}{180}) \approx 0.004153$$</div>
<div class="step">$$x = \cos(Lat_{Tarifa} \frac{\pi}{180}) \sin(Lat_{Ceuta} \frac{\pi}{180}) - \sin(Lat_{Tarifa} \frac{\pi}{180}) \cos(Lat_{Ceuta} \frac{\pi}{180}) \cos(\Delta \lambda_{rad}) \approx 0.00195$$</div>
<div class="step">$$\theta = \arctan2(y,x) \approx 117.79^\circ$$</div>

<h2>4) Aproximació plana</h2>
<p>Per veure-ho de manera geomètrica simple:</p>
<div class="step">Component Nord-Sud: $$NS = |\Delta Lat| \times 60 = 0.1242 \times 60 = 7.45 \text{ NM}$$</div>

<p class="note">Un grau de latitud és constant a tota la Terra i representa aproximadament 60 milles nàutiques (111 km) entre paral·lels... Si
estic al equador un segon és una milla,perquè cos de 0 és 1 i dona una  milla. A Barcelona estic a 42 graus de latitud i per tant un segon de
longitud seria cos de 42 milles=0,74 milles. Si vaig més cap al Nord a Islàndia, la latitud de 60 graus i el cos de la latitud és 0,5 i vol dir
que un segon de longitud serà mitja milla. En el pol nord o pol sud,l'angle de latitud és 90 graus i el cos de 90 és 0, per tant tenim 0 milles
de distància. </p>

<div class="step">Longitud a lat mitjana: $$1^\circ lon = 60 \cos(35.95^\circ) \approx 49.2 \text{ NM}$$</div>
<div class="step">Component Est-Oest: $$EW = \Delta Lon \times 49.2 = 0.2900 \times 49.2 \approx 14.27 \text{ NM}$$</div>
<div class="step">Distància total: $$d = \sqrt{NS^2 + EW^2} \approx 16.1 \text{ NM}$$</div>

<h2>5) Temps de travessia</h2>
<p>Temps = distància / velocitat:</p>
<div class="step">$$t = \frac{d_{NM}}{V} = \frac{15.945}{6} = 2.6575 \text{ h}$$</div>
<p>Convertim decimals a h:m:s pas a pas:</p>
<div class="step">$$H = \lfloor 2.6575 \rfloor = 2h$$</div>
<div class="step">$$M = \lfloor 39.45 \rfloor = 39m$$</div>
<div class="step">$$S = (39.45-39)\times 60 = 27s$$</div>
<div class="step">Temps final: $$t = 2h;39m;27s$$</div>
<div class="step">Hora d'arribada: $$09:42:54 + 2:39:27 = 12:22:21$$</div>

<h2>6) Consum i cost de combustible</h2>
<div class="step">Consum total: $$Q = 18 \times 2.6575 \approx 47.84 L$$</div>
<div class="step">Cost: $$Cost = 47.84 \times 1.425 \approx 68.17 €$$</div>

<h2>7) Vector de velocitat, corrent i vent (detall pas a pas)</h2>
<p>Per calcular la trajectòria real de la nau, hem de combinar el vector de velocitat de la nau amb els vectors de corrent i vent...</p>

<h3>Formules generals</h3>
<div class="formula">$$u = s\sin\theta, \quad v = s\cos\theta$$<br>on s és la velocitat del vector i θ el rumb en graus.</div>

<h3>Pas 1: Nau</h3>
<p>Velocitat de la nau s = 6 kn, rumb θ = 117.8°:</p>
<div class="step">Calcul del component Est (u):<br>$$u_{nau} = 6 \times \sin(117.8°) \approx 5.31$$</div>
<div class="step">Calcul del component Nord (v):<br>$$v_{nau} = 6 \times \cos(117.8°) \approx -2.805$$</div>

<h3>Pas 2: Corrent</h3>
<p>Velocitat de la corrent s = 1.5 kn, rumb θ = 120°:</p>
<div class="step">$$u_{corrent} = 1.5 \times \sin(120°) \approx 1.30$$</div>
<div class="step">$$v_{corrent} = 1.5 \times \cos(120°) \approx -0.75$$</div>

<h3>Pas 3: Vent</h3>
<p>Velocitat del vent s = 12 kn, rumb θ = 150°:</p>
<div class="step">$$u_{vent} = 12 \times \sin(150°) \approx 6.00$$</div>
<div class="step">$$v_{vent} = 12 \times \cos(150°) \approx -10.39$$</div>

<h3>Pas 4: Suma de vectors</h3>
<p>Sumem component a component per obtenir el vector resultant:</p>
<div class="step">Component Est (u):<br>$$u_{res} = u_{nau} + u_{corrent} + u_{vent} = 5.31 + 1.30 + 6.00 \approx 12.61$$</div>
</body>
</html>
